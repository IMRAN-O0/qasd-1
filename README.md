# 🚀 نظام QASD: إدارة الجودة والأتمتة والسلامة للمستودعات

## 📋 نظرة عامة شاملة

نظام QASD هو نظام متكامل وشامل لإدارة المستودعات والمصانع، يجمع بين إدارة الجودة والأتمتة والسلامة في منصة واحدة. تم تطوير هذا النظام باستخدام أحدث التقنيات لضمان الأداء العالي، الأمان، وقابلية التوسع.

### 🎯 الهدف من النظام
- **إدارة شاملة للمستودعات**: تتبع المخزون، استلام وإرسال البضائع، إدارة المواقع
- **ضمان الجودة**: مراقبة معايير الجودة، تسجيل عدم المطابقة، تقارير الجودة
- **الأتمتة الذكية**: أتمتة العمليات الروتينية، تحسين سير العمل
- **السلامة المهنية**: مراقبة معايير السلامة، تسجيل الحوادث، التدريب
- **التحليلات والتقارير**: لوحات تحكم تفاعلية، تقارير مفصلة، رؤى تحليلية

### 🛠️ التقنيات المستخدمة
- **الواجهة الأمامية**: React 18, Vite, Tailwind CSS, React Router
- **الواجهة الخلفية**: Node.js, Express.js, Socket.IO
- **قاعدة البيانات**: SQLite مع إمكانية التوسع لـ PostgreSQL
- **المصادقة**: JWT (JSON Web Tokens)
- **الاختبارات**: Jest, Playwright, Lighthouse
- **النشر**: Docker, Docker Compose, Nginx
- **المراقبة**: Winston Logger, Performance Monitoring

---

## 📁 هيكل المشروع التفصيلي

### 📂 المستوى الأعلى (Root Directory)

يحتوي المجلد الجذري على ملفات التكوين الرئيسية والوثائق:

- **`.env.production`**: متغيرات البيئة للإنتاج (قاعدة البيانات، المفاتيح السرية، إعدادات الأمان)
- **`.gitignore`**: قائمة الملفات والمجلدات المستبعدة من Git
- **`DEPLOYMENT.md`**: دليل شامل لنشر المشروع في بيئات مختلفة
- **`Dockerfile.prod`**: تعليمات بناء حاوية Docker للإنتاج
- **`docker-compose.prod.yml`**: تنسيق الخدمات المتعددة في الإنتاج
- **`package.json`**: اعتماديات وسكربتات الواجهة الأمامية
- **`package-lock.json`**: قفل إصدارات الحزم للاستقرار
- **`vite.config.js`**: تكوين أداة البناء Vite
- **`tailwind.config.js`**: تخصيص إطار عمل Tailwind CSS
- **`postcss.config.js`**: معالج CSS للتحسينات
- **`jest.config.js`**: إعدادات اختبارات الوحدة
- **`playwright.config.js`**: إعدادات اختبارات End-to-End
- **`lighthouserc.json`**: تكوين اختبارات الأداء
- **`index.html`**: نقطة الدخول الرئيسية للتطبيق
- **`structure.txt`**: وثيقة هيكل المشروع



#### 📂 `.trae/rules/`
قواعد وإعدادات محرر Trae:
- **`project_rules.md`**: قواعد المشروع وإرشادات التطوير

#### 📂 `config/`
ملفات تكوين الخادم والأمان:
- **`nginx-default.conf`**: تكوين Nginx الافتراضي
- **`nginx.prod.conf`**: تكوين Nginx للإنتاج
- **`production.js`**: إعدادات بيئة الإنتاج
- **`security-headers.conf`**: رؤوس الأمان للخادم

#### 📂 `e2e/`
اختبارات End-to-End شاملة:
- **`accessibility.spec.js`**: اختبارات إمكانية الوصول
- **`document-management.spec.js`**: اختبارات إدارة المستندات
- **`performance.spec.js`**: اختبارات الأداء

#### 📂 `public/`
الملفات العامة والموارد الثابتة:
- **`manifest.json`**: بيان تطبيق الويب التقدمي (PWA)
- **`offline.html`**: صفحة العمل دون اتصال
- **`sw.js`**: Service Worker للتخزين المؤقت
- **`templates/BatchProductionPrint.html`**: قالب طباعة دفعة الإنتاج

#### 📂 `scripts/`
سكربتات الأتمتة والنشر:
- **`backup.sh`**: سكربت النسخ الاحتياطي التلقائي
- **`deploy.sh`**: سكربت النشر الآلي
- **`docker-entrypoint.sh`**: نقطة دخول حاوية Docker
- **`health-check.sh`**: فحص صحة النظام
- **`setup-monitoring.sh`**: إعداد نظام المراقبة

---

### 📂 الواجهة الخلفية (`/backend`)

الواجهة الخلفية هي قلب النظام، تحتوي على منطق الأعمال، إدارة قاعدة البيانات، والـ APIs:

#### 📄 الملفات الرئيسية
- **`server.js`**: نقطة الدخول الرئيسية، ينشئ خادم Express ويكوّن جميع الخدمات
- **`package.json`**: اعتماديات الخلفية (express, sqlite3, jsonwebtoken, winston, etc.)
- **`package-lock.json`**: قفل إصدارات حزم الخلفية
- **`.env`**: متغيرات البيئة المحلية (مفاتيح JWT، إعدادات قاعدة البيانات)

#### 📂 `backend/src/`
الكود المصدري المنظم للواجهة الخلفية:

##### 📂 `config/`
ملفات التكوين الأساسية:
- **`database.js`**: إعداد وتهيئة اتصال SQLite، إنشاء الجداول، الفهارس

##### 📂 `middleware/`
البرمجيات الوسيطة لمعالجة الطلبات:
- **`auth.js`**: التحقق من توكنات JWT، حماية المسارات المحمية
- **`errorHandler.js`**: معالجة مركزية للأخطاء، تنسيق استجابات الخطأ
- **`validation.js`**: التحقق من صحة البيانات الواردة، تطبيق قواعد التحقق

##### 📂 `routes/`
مسارات API مقسمة حسب الوحدات الوظيفية:
- **`auth.js`**: مصادقة المستخدمين (تسجيل دخول/خروج، تسجيل جديد، تجديد التوكن)
- **`sales.js`**: إدارة المبيعات (عملاء، فواتير، عروض أسعار، طلبات)
- **`inventory.js`**: إدارة المخزون (مواد، مستودعات، حركات المخزون، جرد)
- **`production.js`**: إدارة الإنتاج (دفعات إنتاج، معدات، جدولة، تتبع)
- **`quality.js`**: ضمان الجودة (فحوصات، عدم مطابقة، تقارير جودة)

##### 📂 `utils/`
أدوات مساعدة مشتركة:
- **`logger.js`**: نظام تسجيل شامل باستخدام Winston (أخطاء، وصول، تدقيق)
- **`responseHandler.js`**: دوال موحدة للاستجابات (نجاح، فشل، تنسيق البيانات)
- **`backup.js`**: نظام النسخ الاحتياطي التلقائي لقاعدة البيانات

##### 📂 `validators/`
قواعد التحقق من صحة البيانات:
- **`customerValidators.js`**: قواعد التحقق من بيانات العملاء (اسم، هاتف، عنوان)

#### 📂 `backend/data/`
ملفات قاعدة البيانات:
- **`qasd.db`**: قاعدة بيانات SQLite الرئيسية

#### 📂 `backend/logs/`
ملفات السجلات:
- **`access.log`**: سجل الوصول للطلبات
- **`error.log`**: سجل الأخطاء
- **`combined.log`**: سجل شامل لجميع الأحداث
- **`exceptions.log`**: سجل الاستثناءات غير المعالجة
- **`rejections.log`**: سجل رفض الوعود (Promise rejections)

#### 📂 `backend/backups/`
مجلد النسخ الاحتياطية التلقائية لقاعدة البيانات

#### 📂 `backend/uploads/`
مجلد تخزين الملفات المرفوعة (مستندات، صور، تقارير)

---

### 📂 الواجهة الأمامية (`/src`)

الواجهة الأمامية مبنية بـ React وتوفر تجربة مستخدم حديثة وتفاعلية:

#### 📄 الملفات الرئيسية
- **`main.jsx`**: نقطة الدخول لتطبيق React، يحمل التطبيق ويربطه بـ DOM
- **`App.jsx`**: المكون الجذر، يحتوي على التوجيه والتخطيط العام
- **`index.css`**: الأنماط الرئيسية، متغيرات CSS، والأنماط العامة

#### 📂 `src/components/`
مكونات React قابلة لإعادة الاستخدام مقسمة حسب الوحدات:

##### 📂 `common/`
مكونات عامة مشتركة:
- **`Button.jsx`**: مكون الأزرار بأنواعها المختلفة
- **`Modal.jsx`**: مكون النوافذ المنبثقة
- **`Table.jsx`**: مكون الجداول مع الفرز والبحث
- **`Form.jsx`**: مكونات النماذج والحقول
- **`Loading.jsx`**: مؤشرات التحميل
- **`ErrorBoundary.jsx`**: معالجة أخطاء React
- **`Layout.jsx`**: تخطيط الصفحة الأساسي
- **`Sidebar.jsx`**: الشريط الجانبي للتنقل
- **`Header.jsx`**: رأس الصفحة

##### 📂 `المبيعات/`
مكونات إدارة المبيعات:
- **`CustomerCard.jsx`**: بطاقة عرض بيانات العميل
- **`InvoiceForm.jsx`**: نموذج إنشاء/تعديل الفواتير
- **`QuoteGenerator.jsx`**: مولد عروض الأسعار
- **`SalesChart.jsx`**: رسوم بيانية للمبيعات
- **`CustomerList.jsx`**: قائمة العملاء مع البحث والفلترة

##### 📂 `المخزون/`
مكونات إدارة المخزون:
- **`ItemCard.jsx`**: بطاقة عرض المادة
- **`StockLevel.jsx`**: مؤشر مستوى المخزون
- **`InventoryTable.jsx`**: جدول المخزون
- **`StockMovement.jsx`**: تتبع حركات المخزون
- **`WarehouseMap.jsx`**: خريطة المستودع

##### 📂 `الإنتاج/`
مكونات إدارة الإنتاج:
- **`ProductionLine.jsx`**: خط الإنتاج
- **`BatchTracker.jsx`**: تتبع دفعات الإنتاج
- **`EquipmentStatus.jsx`**: حالة المعدات
- **`ProductionSchedule.jsx`**: جدولة الإنتاج
- **`QualityCheck.jsx`**: فحوصات الجودة

##### 📂 `الجودة/`
مكونات ضمان الجودة:
- **`QualityReport.jsx`**: تقارير الجودة
- **`NonConformance.jsx`**: إدارة عدم المطابقة
- **`QualityMetrics.jsx`**: مؤشرات الجودة
- **`InspectionForm.jsx`**: نماذج الفحص

#### 📂 `src/pages/`
صفحات التطبيق الرئيسية:

##### 📂 `لوحة_التحكم/`
- **`Dashboard.jsx`**: الصفحة الرئيسية مع الإحصائيات
- **`DashboardCards.jsx`**: بطاقات المؤشرات الرئيسية
- **`RecentActivity.jsx`**: النشاطات الأخيرة
- **`QuickActions.jsx`**: الإجراءات السريعة

##### 📂 `المبيعات/`
- **`SalesOverview.jsx`**: نظرة عامة على المبيعات
- **`CustomerManagement.jsx`**: إدارة العملاء
- **`InvoiceManagement.jsx`**: إدارة الفواتير
- **`QuoteManagement.jsx`**: إدارة عروض الأسعار
- **`SalesReports.jsx`**: تقارير المبيعات

##### 📂 `المخزون/`
- **`InventoryOverview.jsx`**: نظرة عامة على المخزون
- **`ItemManagement.jsx`**: إدارة المواد
- **`WarehouseManagement.jsx`**: إدارة المستودعات
- **`StockMovements.jsx`**: حركات المخزون
- **`InventoryReports.jsx`**: تقارير المخزون

##### 📂 `الإنتاج/`
- **`ProductionOverview.jsx`**: نظرة عامة على الإنتاج
- **`ProductionPlanning.jsx`**: تخطيط الإنتاج
- **`EquipmentManagement.jsx`**: إدارة المعدات
- **`ProductionTracking.jsx`**: تتبع الإنتاج
- **`ProductionReports.jsx`**: تقارير الإنتاج

##### 📂 `الجودة/`
- **`QualityOverview.jsx`**: نظرة عامة على الجودة
- **`QualityControl.jsx`**: مراقبة الجودة
- **`QualityAssurance.jsx`**: ضمان الجودة
- **`QualityReports.jsx`**: تقارير الجودة

##### 📂 `الإعدادات/`
- **`SystemSettings.jsx`**: إعدادات النظام
- **`UserSettings.jsx`**: إعدادات المستخدم
- **`CompanySettings.jsx`**: إعدادات الشركة
- **`SecuritySettings.jsx`**: إعدادات الأمان

#### 📂 `src/hooks/`
React Hooks مخصصة لإدارة الحالة والمنطق:
- **`useAuth.js`**: إدارة المصادقة والمستخدم الحالي
- **`useApi.js`**: تبسيط استدعاءات API وإدارة التحميل/الأخطاء
- **`useLocalStorage.js`**: إدارة التخزين المحلي
- **`useDebounce.js`**: تأخير تنفيذ الدوال (للبحث)
- **`usePagination.js`**: إدارة التصفح بين الصفحات
- **`useForm.js`**: إدارة النماذج والتحقق من الصحة
- **`useWebSocket.js`**: إدارة اتصالات WebSocket

#### 📂 `src/services/`
خدمات التواصل مع الواجهة الخلفية:
- **`api.js`**: إعداد Axios الأساسي، interceptors، معالجة الأخطاء
- **`authService.js`**: خدمات المصادقة (دخول، خروج، تجديد التوكن)
- **`salesService.js`**: خدمات المبيعات (عملاء، فواتير، عروض أسعار)
- **`inventoryService.js`**: خدمات المخزون (مواد، مستودعات، حركات)
- **`productionService.js`**: خدمات الإنتاج (دفعات، معدات، جدولة)
- **`qualityService.js`**: خدمات الجودة (فحوصات، تقارير، عدم مطابقة)
- **`performanceService.js`**: خدمات مراقبة الأداء والتحليلات
- **`notificationService.js`**: خدمات الإشعارات
- **`reportService.js`**: خدمات التقارير والتصدير

#### 📂 `src/context/`
React Contexts لإدارة الحالة العامة:
- **`AuthContext.jsx`**: حالة المصادقة والمستخدم عبر التطبيق
- **`ThemeContext.jsx`**: إدارة السمة (فاتح/داكن) وتفضيلات المظهر
- **`NotificationContext.jsx`**: إدارة الإشعارات والتنبيهات
- **`LanguageContext.jsx`**: إدارة اللغة والترجمة

#### 📂 `src/utils/`
أدوات مساعدة ودوال عامة:
- **`constants.js`**: الثوابت والتكوينات الثابتة
- **`helpers.js`**: دوال مساعدة عامة
- **`formatters.js`**: تنسيق التواريخ، الأرقام، العملات
- **`validators.js`**: دوال التحقق من صحة البيانات
- **`permissions.js`**: إدارة الصلاحيات والأذونات
- **`storage.js`**: إدارة التخزين المحلي والجلسة
- **`dateUtils.js`**: أدوات التعامل مع التواريخ
- **`exportUtils.js`**: أدوات التصدير (PDF, Excel, CSV)

#### 📂 `src/assets/`
الموارد الثابتة:
- **`images/`**: الصور والأيقونات
- **`fonts/`**: الخطوط المخصصة
- **`icons/`**: أيقونات SVG
- **`styles/`**: ملفات CSS إضافية

### 📂 ملفات الاختبار والجودة

#### 📂 `e2e/`
اختبارات النهاية إلى النهاية باستخدام Playwright:
- **`accessibility.spec.js`**: اختبارات إمكانية الوصول
- **`document-management.spec.js`**: اختبارات إدارة المستندات
- **`performance.spec.js`**: اختبارات الأداء
- **`playwright.config.js`**: تكوين Playwright (في الجذر)

#### 📂 `tests/`
اختبارات الوحدة والتكامل:
- **`unit/`**: اختبارات الوحدة
  - **`components/`**: اختبارات المكونات
  - **`services/`**: اختبارات الخدمات
  - **`utils/`**: اختبارات الأدوات المساعدة
- **`integration/`**: اختبارات التكامل
- **`__mocks__/`**: ملفات المحاكاة للاختبارات
- **`setup.js`**: إعداد بيئة الاختبار

#### 📄 ملفات تكوين الاختبار
- **`jest.config.js`**: تكوين Jest للاختبارات
- **`lighthouserc.json`**: تكوين Lighthouse لاختبارات الأداء

### 📂 مجلدات البناء والتوزيع

#### 📂 `dist/`
مجلد الإنتاج النهائي للواجهة الأمامية (يتم إنشاؤه تلقائياً عند البناء):
- **`assets/`**: الملفات الثابتة المحسنة (CSS, JS, صور)
- **`index.html`**: الصفحة الرئيسية المحسنة للإنتاج
- **`manifest.json`**: ملف بيان تطبيق الويب التقدمي (PWA)
- **`offline.html`**: صفحة العمل بدون اتصال
- **`sw.js`**: Service Worker للتخزين المؤقت والعمل بدون اتصال
- **`templates/`**: قوالب التقارير والمستندات

#### 📂 `node_modules/`
مجلد حزم Node.js المثبتة (يتم إنشاؤه تلقائياً عند تشغيل npm install):
- يحتوي على جميع التبعيات والمكتبات المطلوبة للمشروع
- **`.bin/`**: الملفات التنفيذية للحزم
- **`.cache/`**: ملفات التخزين المؤقت
- **`.vite/`**: ملفات تخزين مؤقت خاصة بـ Vite
- مئات المجلدات للمكتبات مثل React, Vite, ESLint, Jest, وغيرها

### 📂 مجلدات التكوين والأدوات

#### 📂 `.trae/`
مجلد تكوين بيئة التطوير Trae AI:
- **`rules/`**: قواعد وإعدادات مخصصة لبيئة التطوير
- يحتوي على تكوينات خاصة بـ IDE والمساعد الذكي

### 📂 ملفات النشر والتكوين

#### 📂 `.github/workflows/`
سير عمل CI/CD باستخدام GitHub Actions:
- **`ci.yml`**: سير عمل التكامل المستمر
- **`cd.yml`**: سير عمل النشر المستمر
- **`test.yml`**: سير عمل تشغيل الاختبارات
- **`security.yml`**: فحوصات الأمان
- **`performance.yml`**: اختبارات الأداء

#### 📂 `config/`
ملفات التكوين المتقدمة للخادم والأمان:
- **`nginx-default.conf`**: تكوين Nginx الافتراضي
- **`nginx.prod.conf`**: تكوين Nginx للإنتاج
- **`production.js`**: إعدادات بيئة الإنتاج
- **`security-headers.conf`**: رؤوس الأمان للخادم

#### 📂 `scripts/`
سكريبتات الأتمتة والنشر (Shell Scripts):
- **`backup.sh`**: سكريبت النسخ الاحتياطي التلقائي
- **`deploy.sh`**: سكريبت النشر على الخادم
- **`docker-entrypoint.sh`**: نقطة دخول حاوية Docker
- **`health-check.sh`**: فحص صحة الخادم
- **`setup-monitoring.sh`**: إعداد نظام المراقبة

#### 📂 `public/`
الملفات العامة للواجهة الأمامية:
- **`manifest.json`**: ملف بيان تطبيق الويب التقدمي (PWA)
- **`offline.html`**: صفحة العمل بدون اتصال
- **`sw.js`**: Service Worker للتخزين المؤقت
- **`templates/`**: قوالب التقارير والمستندات

#### 📄 ملفات Docker والحاويات
- **`Dockerfile`**: ملف Docker للتطوير
- **`Dockerfile.prod`**: ملف Docker للإنتاج
- **`docker-compose.yml`**: تكوين Docker Compose للتطوير
- **`docker-compose.prod.yml`**: تكوين Docker Compose للإنتاج
- **`.dockerignore`**: ملفات مستبعدة من Docker

#### 📄 ملفات التكوين الأخرى
- **`vite.config.js`**: تكوين Vite لبناء الواجهة الأمامية
- **`tailwind.config.js`**: تكوين Tailwind CSS
- **`postcss.config.js`**: تكوين PostCSS
- **`.eslintrc.json`**: قواعد ESLint لجودة الكود
- **`.prettierrc`**: تكوين Prettier لتنسيق الكود
- **`.prettierignore`**: ملفات مستبعدة من تنسيق Prettier
- **`.env.example`**: مثال على ملف متغيرات البيئة
- **`package.json`**: تبعيات ومعلومات المشروع الأمامي
- **`package-lock.json`**: قفل إصدارات الحزم للواجهة الأمامية

### 📂 ملفات إضافية مهمة

#### 📄 ملفات المشروع الجذرية
- **`index.html`**: نقطة دخول الواجهة الأمامية
- **`structure.txt`**: هيكل المشروع النصي
- **`swagger.json`**: توثيق API باستخدام Swagger/OpenAPI
- **`DEPLOYMENT.md`**: دليل النشر المفصل
- **`Dockerfile.prod`**: ملف Docker للإنتاج
- **`docker-compose.prod.yml`**: تكوين Docker Compose للإنتاج

### 📂 ملفات التوثيق والمساعدة

#### 📄 ملفات التوثيق الموجودة
- **`README.md`**: هذا الملف - دليل المشروع الشامل
- **`DEPLOYMENT.md`**: دليل النشر المفصل
- **`structure.txt`**: هيكل المشروع النصي

### 📂 ملخص هيكل المشروع الكامل

يحتوي المشروع على الهيكل التالي:

```
QASD/
├── 📁 .trae/                    # تكوين بيئة التطوير Trae AI
├── 📁 backend/                  # الواجهة الخلفية (Node.js + Express)
├── 📁 config/                   # تكوينات الخادم والأمان (Nginx, إنتاج)
├── 📁 dist/                     # ملفات الإنتاج المبنية (تلقائي)
├── 📁 e2e/                      # اختبارات النهاية إلى النهاية (Playwright)
├── 📁 node_modules/             # حزم Node.js المثبتة (تلقائي)
├── 📁 public/                   # الملفات العامة للواجهة الأمامية
├── 📁 scripts/                  # سكريبتات الأتمتة والنشر (Shell)
├── 📁 src/                      # كود الواجهة الأمامية (React)
├── 📄 .env.example             # مثال متغيرات البيئة
├── 📄 .eslintrc.json           # قواعد جودة الكود
├── 📄 .prettierrc              # تكوين تنسيق الكود
├── 📄 DEPLOYMENT.md            # دليل النشر
├── 📄 Dockerfile.prod          # حاوية Docker للإنتاج
├── 📄 docker-compose.prod.yml  # تكوين Docker Compose
├── 📄 index.html               # نقطة دخول التطبيق
├── 📄 jest.config.js           # تكوين اختبارات Jest
├── 📄 lighthouserc.json        # تكوين اختبارات الأداء
├── 📄 package.json             # تبعيات المشروع الأمامي
├── 📄 package-lock.json        # قفل إصدارات الحزم
├── 📄 playwright.config.js     # تكوين اختبارات E2E
├── 📄 postcss.config.js        # تكوين PostCSS
├── 📄 structure.txt            # هيكل المشروع النصي
├── 📄 swagger.json             # توثيق API
├── 📄 tailwind.config.js       # تكوين Tailwind CSS
├── 📄 vite.config.js           # تكوين أداة البناء Vite
└── 📄 README.md                # هذا الملف - التوثيق الشامل
```

#### 🎯 الغرض من كل مجلد:

- **`.trae/`**: تكوينات خاصة ببيئة التطوير الذكية
- **`backend/`**: جميع ملفات الخادم وقاعدة البيانات والـ API
- **`config/`**: إعدادات الخادم والأمان للبيئات المختلفة
- **`dist/`**: الملفات المحسنة للنشر (يتم إنشاؤها تلقائياً)
- **`e2e/`**: اختبارات شاملة للتطبيق من منظور المستخدم
- **`node_modules/`**: مكتبات JavaScript المطلوبة (يُدار تلقائياً)
- **`public/`**: ملفات ثابتة يمكن الوصول إليها مباشرة
- **`scripts/`**: أدوات أتمتة للنشر والصيانة
- **`src/`**: الكود المصدري للواجهة الأمامية

### 📂 قاعدة البيانات والهيكل

#### 📊 هيكل قاعدة البيانات (SQLite)
قاعدة البيانات تحتوي على الجداول التالية:

##### 🏢 جداول إدارة الشركة
- **`users`**: بيانات المستخدمين والموظفين
- **`roles`**: الأدوار والصلاحيات
- **`permissions`**: الأذونات التفصيلية
- **`departments`**: الأقسام والإدارات
- **`settings`**: إعدادات النظام العامة

##### 👥 جداول إدارة العملاء والمبيعات
- **`customers`**: بيانات العملاء
- **`customer_contacts`**: جهات الاتصال للعملاء
- **`quotes`**: عروض الأسعار
- **`quote_items`**: عناصر عروض الأسعار
- **`invoices`**: الفواتير
- **`invoice_items`**: عناصر الفواتير
- **`payments`**: المدفوعات
- **`sales_orders`**: أوامر البيع

##### 📦 جداول إدارة المخزون
- **`materials`**: المواد والمنتجات
- **`categories`**: فئات المواد
- **`suppliers`**: الموردين
- **`warehouses`**: المستودعات
- **`stock_locations`**: مواقع التخزين
- **`stock_movements`**: حركات المخزون
- **`inventory_counts`**: عمليات الجرد
- **`purchase_orders`**: أوامر الشراء
- **`material_receipts`**: استلام المواد

##### 🏭 جداول إدارة الإنتاج
- **`production_orders`**: أوامر الإنتاج
- **`production_batches`**: دفعات الإنتاج
- **`work_centers`**: مراكز العمل
- **`equipment`**: المعدات والآلات
- **`maintenance_schedules`**: جداول الصيانة
- **`production_schedules`**: جداول الإنتاج
- **`time_tracking`**: تتبع الوقت
- **`resource_allocation`**: تخصيص الموارد

##### ✅ جداول ضمان الجودة
- **`quality_standards`**: معايير الجودة
- **`quality_checks`**: فحوصات الجودة
- **`non_conformances`**: عدم المطابقة
- **`corrective_actions`**: الإجراءات التصحيحية
- **`quality_reports`**: تقارير الجودة
- **`inspections`**: عمليات التفتيش

##### 📊 جداول التقارير والتحليلات
- **`reports`**: التقارير المحفوظة
- **`analytics_data`**: بيانات التحليلات
- **`kpi_metrics`**: مؤشرات الأداء الرئيسية
- **`audit_logs`**: سجلات التدقيق
- **`system_logs`**: سجلات النظام

### 🔒 الأمان والحماية

#### 🛡️ ميزات الأمان المطبقة
- **مصادقة JWT**: توكنات آمنة للمصادقة
- **تشفير كلمات المرور**: باستخدام bcrypt
- **CORS محدود**: حماية من الطلبات غير المصرح بها
- **Rate Limiting**: تحديد معدل الطلبات
- **Input Validation**: التحقق من صحة البيانات الواردة
- **SQL Injection Protection**: حماية من حقن SQL
- **XSS Protection**: حماية من البرمجة النصية المتقاطعة
- **CSRF Protection**: حماية من تزوير الطلبات
- **Helmet.js**: حماية إضافية للرؤوس
- **Session Security**: أمان الجلسات

#### 🔐 إدارة الصلاحيات
- **نظام الأدوار**: أدوار محددة مسبقاً (مدير، مشرف، مستخدم)
- **الأذونات التفصيلية**: تحكم دقيق في الوصول
- **التحكم في الوصول**: RBAC (Role-Based Access Control)
- **مراجعة الأنشطة**: تسجيل جميع العمليات الحساسة

### ⚡ الأداء والتحسين

#### 🚀 تحسينات الأداء
- **تخزين مؤقت**: Redis للبيانات المتكررة
- **ضغط البيانات**: Gzip compression
- **تحسين الاستعلامات**: فهرسة قاعدة البيانات
- **تحميل تدريجي**: Lazy loading للمكونات
- **تجميع الطلبات**: Batch requests
- **CDN**: شبكة توصيل المحتوى للملفات الثابتة
- **Image Optimization**: تحسين الصور
- **Code Splitting**: تقسيم الكود

#### 📊 مراقبة الأداء
- **Lighthouse**: اختبارات الأداء التلقائية
- **Web Vitals**: مؤشرات الويب الأساسية
- **Performance Monitoring**: مراقبة الأداء المستمرة
- **Error Tracking**: تتبع الأخطاء
- **Analytics**: تحليلات الاستخدام

### 🔄 النسخ الاحتياطي والاستعادة

#### 💾 استراتيجية النسخ الاحتياطي
- **نسخ تلقائية**: كل 6 ساعات
- **نسخ يدوية**: عند الطلب
- **تشفير النسخ**: حماية البيانات المحفوظة
- **تخزين متعدد**: مواقع تخزين متعددة
- **اختبار الاستعادة**: اختبار دوري للنسخ

## 🏗️ هيكلية المشروع المعمارية

### 🎯 النمط المعماري (Architecture Pattern)

يتبع المشروع **نمط الطبقات المتعددة (Multi-Layered Architecture)** مع فصل واضح بين:

#### 🖥️ طبقة العرض (Presentation Layer)
- **React Components**: مكونات واجهة المستخدم
- **Pages**: صفحات التطبيق الرئيسية
- **Layouts**: تخطيطات الصفحات
- **Routing**: توجيه الصفحات
- **State Management**: إدارة حالة التطبيق

#### 🔧 طبقة الخدمات (Service Layer)
- **API Services**: خدمات التواصل مع الخادم
- **Business Logic**: منطق العمل
- **Data Processing**: معالجة البيانات
- **Validation**: التحقق من صحة البيانات
- **Utilities**: الأدوات المساعدة

#### 🗄️ طبقة البيانات (Data Layer)
- **Database Models**: نماذج قاعدة البيانات
- **Data Access**: الوصول للبيانات
- **Caching**: التخزين المؤقت
- **File Storage**: تخزين الملفات
- **External APIs**: واجهات برمجة خارجية

### 🔗 نمط التصميم (Design Patterns)

#### 📋 الأنماط المستخدمة
- **Repository Pattern**: لإدارة الوصول للبيانات
- **Factory Pattern**: لإنشاء الكائنات
- **Observer Pattern**: لمراقبة التغييرات
- **Singleton Pattern**: للخدمات المشتركة
- **Strategy Pattern**: للخوارزميات المتعددة
- **Decorator Pattern**: لتوسيع الوظائف
- **MVC Pattern**: فصل النموذج والعرض والتحكم

### 🏢 البنية التنظيمية للمشروع

#### 📁 تنظيم المجلدات حسب الوظيفة
```
# 📁 هيكل المشروع التفصيلي

## 🎨 الواجهة الأمامية (Frontend)
مبنية باستخدام React 18 وتتضمن:

### 📄 الصفحات (src/pages)
- لوحة التحكم الرئيسية
- إدارة المبيعات والعملاء 
- إدارة المخزون والمستودعات
- إدارة الإنتاج والجودة
- صفحات الإعدادات والتقارير

### 🧩 المكونات (src/components)
- مكونات قابلة لإعادة الاستخدام
- نماذج وجداول وأزرار
- مكونات خاصة بكل وحدة وظيفية
- مكونات واجهة المستخدم العامة

### 🔧 الخدمات (src/services)
- خدمات الاتصال بالـ API
- خدمات المصادقة والأمان
- خدمات إدارة البيانات
- خدمات التقارير والتصدير

### 🎣 الخطافات (src/hooks)
- خطافات مخصصة لإدارة الحالة
- خطافات التعامل مع API
- خطافات المصادقة والنماذج
- خطافات مساعدة عامة

### 🌐 السياقات (src/contexts)
- سياق المصادقة والمستخدم
- سياق السمة والمظهر
- سياق اللغة والترجمة
- سياق الإشعارات

### 🛠️ الأدوات (src/utils)
- دوال مساعدة عامة
- أدوات تنسيق وتحقق
- ثوابت وتكوينات
- أدوات التصدير والتخزين

## ⚙️ الواجهة الخلفية (Backend)
مبنية باستخدام Node.js وExpress وتتضمن:

### 🛣️ المسارات (routes)
- مسارات المصادقة والمستخدمين
- مسارات المبيعات والعملاء
- مسارات المخزون والمستودعات
- مسارات الإنتاج والجودة

### 🔒 الوسطاء (middleware)
- التحقق من المصادقة
- معالجة الأخطاء
- التحقق من الصلاحيات
- تسجيل الطلبات

### ⚙️ الإعدادات (config)
- إعدادات قاعدة البيانات
- إعدادات الأمان
- إعدادات الخادم
- إعدادات البيئات

### ✅ المدققات (validators)
- التحقق من صحة البيانات
- قواعد التحقق المخصصة
- مدققات النماذج
- مدققات المدخلات

### 🛠️ الأدوات الخلفية (utils)
- معالجة الاستجابات
- تسجيل الأحداث
- أدوات مساعدة
- معالجة الملفات

## 🗄️ قاعدة البيانات (Database)
قاعدة بيانات SQLite مع:

### 📊 المخطط (schema)
- جداول المستخدمين والأدوار
- جداول المبيعات والعملاء
- جداول المخزون والمنتجات
- جداول الإنتاج والجودة

### 🔄 الترحيلات (migrations)
- إنشاء الجداول
- تحديث الهياكل
- إضافة العلاقات
- تعديل البيانات

### 🌱 البيانات الأولية (seeds)
- بيانات المستخدمين الأساسية
- بيانات الإعدادات
- بيانات التصنيفات
- بيانات اختبارية

## 🧪 الاختبارات (Testing)
نظام اختبار شامل يتضمن:

### 🔬 اختبارات الوحدة
- اختبارات المكونات
- اختبارات الخدمات
- اختبارات الأدوات
- اختبارات المدققات

### 🔗 اختبارات التكامل
- اختبارات API
- اختبارات قاعدة البيانات
- اختبارات المصادقة
- اختبارات سير العمل

### 🎭 اختبارات E2E
- سيناريوهات المستخدم
- اختبارات الأداء
- اختبارات الواجهة
- اختبارات التوافق

## 🚀 العمليات (DevOps)
أدوات وخدمات النشر والمراقبة:

### 🐳 Docker
- ملفات Docker للتطوير
- ملفات Docker للإنتاج
- تكوين Docker Compose
- سكربتات Docker

### 🔄 CI/CD
- سير عمل GitHub Actions
- اختبارات تلقائية
- نشر تلقائي
- فحوصات الجودة

### 📊 المراقبة
- مراقبة الأداء
- تسجيل الأحداث
- تنبيهات النظام
- تحليلات المستخدمين

### 🔄 تدفق البيانات (Data Flow)

#### 📊 مسار البيانات في النظام
```
👤 User Interface
      ↓
🎯 React Components
      ↓
🔧 Service Layer
      ↓
🌐 API Endpoints
      ↓
🔒 Middleware & Validation
      ↓
💼 Business Logic
      ↓
🗄️ Database Layer
      ↓
📊 SQLite Database
```

#### 🔄 دورة حياة الطلب (Request Lifecycle)
1. **🎯 User Action**: إجراء المستخدم
2. **📤 Component Event**: حدث المكون
3. **🔧 Service Call**: استدعاء الخدمة
4. **🌐 HTTP Request**: طلب HTTP
5. **🔒 Authentication**: المصادقة
6. **✅ Validation**: التحقق
7. **💼 Business Logic**: منطق العمل
8. **🗄️ Database Query**: استعلام قاعدة البيانات
9. **📤 Response**: الاستجابة
10. **🎨 UI Update**: تحديث واجهة المستخدم

### 🔧 المكونات الأساسية (Core Components)

#### 🎯 مكونات الواجهة الأمامية
- **🏠 Dashboard**: لوحة التحكم الرئيسية
- **📦 Inventory Management**: إدارة المخزون
- **🏭 Production Control**: التحكم في الإنتاج
- **👥 Sales Management**: إدارة المبيعات
- **✅ Quality Assurance**: ضمان الجودة
- **👤 User Management**: إدارة المستخدمين
- **📊 Reports & Analytics**: التقارير والتحليلات

#### ⚙️ مكونات الواجهة الخلفية
- **🔐 Authentication Service**: خدمة المصادقة
- **📊 Data Processing Engine**: محرك معالجة البيانات
- **📈 Analytics Engine**: محرك التحليلات
- **📧 Notification System**: نظام الإشعارات
- **🔄 Backup Manager**: مدير النسخ الاحتياطي
- **📊 Report Generator**: مولد التقارير
- **🔒 Security Manager**: مدير الأمان

### 🌐 التكامل مع الأنظمة الخارجية

#### 🔗 واجهات التكامل
- **💳 Payment Gateways**: بوابات الدفع
- **📧 Email Services**: خدمات البريد الإلكتروني
- **📱 SMS Services**: خدمات الرسائل النصية
- **☁️ Cloud Storage**: التخزين السحابي
- **📊 Analytics Platforms**: منصات التحليلات
- **🔒 Security Services**: خدمات الأمان
- **📋 ERP Systems**: أنظمة تخطيط موارد المؤسسة

### 📈 قابلية التوسع (Scalability)

#### 🚀 استراتيجيات التوسع
- **📊 Horizontal Scaling**: التوسع الأفقي
- **📈 Vertical Scaling**: التوسع العمودي
- **🔄 Load Balancing**: توزيع الأحمال
- **💾 Database Sharding**: تقسيم قاعدة البيانات
- **⚡ Caching Strategies**: استراتيجيات التخزين المؤقت
- **🌐 CDN Integration**: تكامل شبكة توصيل المحتوى
- **🔧 Microservices**: الخدمات المصغرة

#### 📊 مؤشرات الأداء
- **⚡ Response Time**: زمن الاستجابة
- **🔄 Throughput**: معدل المعالجة
- **💾 Memory Usage**: استخدام الذاكرة
- **💽 CPU Usage**: استخدام المعالج
- **🌐 Network Latency**: زمن استجابة الشبكة
- **🗄️ Database Performance**: أداء قاعدة البيانات
- **👥 Concurrent Users**: المستخدمون المتزامنون

## 🚀 كيفية تشغيل المشروع

### المتطلبات الأساسية

- **Node.js** (الإصدار 18 أو أحدث)
- **npm** أو **yarn** (مدير الحزم)
- **Git** (نظام التحكم في الإصدار)
- **SQLite** (قاعدة البيانات - مدمجة)
- **Redis** (اختياري - للتخزين المؤقت)

### خطوات التشغيل السريع

#### 1. استنساخ المشروع
```bash
git clone <repository-url>
cd QASD
```

#### 2. إعداد متغيرات البيئة
```bash
# نسخ ملف البيئة المثال
cp .env.example .env

# تحرير الملف وإضافة القيم المطلوبة
# JWT_SECRET, DATABASE_URL, etc.
```

#### 3. تشغيل الواجهة الخلفية
```bash
cd backend
npm install
npm run migrate  # إنشاء قاعدة البيانات
npm run seed     # إدخال البيانات الأولية
npm start
```
**الخادم سيعمل على:** `http://localhost:5000`

#### 4. تشغيل الواجهة الأمامية
```bash
# في terminal جديد
npm install
npm run dev
```
**التطبيق سيعمل على:** `http://localhost:5173`

### 🔧 البيئات والأوامر المختلفة

#### بيئة التطوير
```bash
# الواجهة الأمامية
npm run dev

# الواجهة الخلفية
cd backend && npm run dev
```

#### بيئة الإنتاج
```bash
# بناء المشروع
npm run build

# تشغيل الإنتاج
npm run start

# أو باستخدام Docker
docker-compose -f docker-compose.prod.yml up
```

#### الاختبارات
```bash
# اختبارات الوحدة
npm run test

# اختبارات التكامل
npm run test:integration

# اختبارات النهاية إلى النهاية
npm run test:e2e

# اختبارات الأداء
npm run test:performance
```

#### أوامر إضافية
```bash
# فحص جودة الكود
npm run lint

# إصلاح مشاكل الكود
npm run lint:fix

# تنسيق الكود
npm run format

# تحليل الحزم
npm run analyze

# إنشاء التوثيق
npm run docs
```

### 🐳 تشغيل باستخدام Docker

#### التطوير
```bash
# بناء وتشغيل الحاويات
docker-compose up --build

# تشغيل في الخلفية
docker-compose up -d

# إيقاف الحاويات
docker-compose down
```

#### الإنتاج
```bash
# بناء صورة الإنتاج
docker build -f Dockerfile.prod -t qasd:prod .

# تشغيل الإنتاج
docker-compose -f docker-compose.prod.yml up -d
```

---

## 🤝 المساهمة في المشروع

### خطوات المساهمة

1. **Fork المشروع** من GitHub
2. **إنشاء فرع جديد** للميزة أو الإصلاح
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. **تطبيق التغييرات** مع اتباع معايير الكود
4. **إضافة الاختبارات** للميزات الجديدة
5. **Commit التغييرات** مع رسائل واضحة
   ```bash
   git commit -m 'feat: add amazing feature'
   ```
6. **Push للفرع**
   ```bash
   git push origin feature/amazing-feature
   ```
7. **فتح Pull Request** مع وصف مفصل

### معايير المساهمة

- **اتباع معايير الكود**: ESLint + Prettier
- **كتابة الاختبارات**: تغطية 80%+ للكود الجديد
- **التوثيق**: توثيق الميزات الجديدة
- **الأمان**: مراجعة الأمان للتغييرات الحساسة
- **الأداء**: اختبار تأثير التغييرات على الأداء

### أنواع المساهمات المرحب بها

- 🐛 **إصلاح الأخطاء**
- ✨ **ميزات جديدة**
- 📚 **تحسين التوثيق**
- 🎨 **تحسين واجهة المستخدم**
- ⚡ **تحسين الأداء**
- 🔒 **تعزيز الأمان**
- 🧪 **إضافة اختبارات**
- 🌐 **الترجمة**

---

## 📞 الدعم والمساعدة

### طرق الحصول على المساعدة

- **GitHub Issues**: للأخطاء والميزات الجديدة
- **GitHub Discussions**: للأسئلة والنقاشات
- **Wiki**: للتوثيق المفصل
- **Email**: للاستفسارات الخاصة

### الإبلاغ عن الأخطاء

عند الإبلاغ عن خطأ، يرجى تضمين:
- وصف مفصل للمشكلة
- خطوات إعادة إنتاج الخطأ
- البيئة المستخدمة (نظام التشغيل، المتصفح، إلخ)
- رسائل الخطأ (إن وجدت)
- لقطات شاشة (إن أمكن)

---

## 📄 الرخصة والحقوق

هذا المشروع مرخص تحت **رخصة MIT** - راجع ملف [LICENSE](LICENSE) للتفاصيل الكاملة.

### ملخص الرخصة
- ✅ **الاستخدام التجاري** مسموح
- ✅ **التعديل** مسموح
- ✅ **التوزيع** مسموح
- ✅ **الاستخدام الخاص** مسموح
- ❌ **المسؤولية** غير مضمونة
- ❌ **الضمان** غير مقدم

---

## 🙏 شكر وتقدير

### المساهمون
شكر خاص لجميع المساهمين في تطوير هذا المشروع.

### التقنيات المستخدمة
شكر للمجتمعات مفتوحة المصدر التي جعلت هذا المشروع ممكناً:
- React.js Community
- Node.js Foundation
- Express.js Team
- SQLite Development Team
- Vite Team
- Tailwind CSS Team

---

**تم تطوير هذا المشروع بـ ❤️ لإدارة المستودعات والمصانع بكفاءة عالية**
